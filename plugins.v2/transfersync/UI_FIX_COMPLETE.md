# TransferSync æ’ä»¶ UI æ¨¡å—è”é‚¦ä¿®å¤å®Œæˆ

## ğŸ¯ é—®é¢˜è§£å†³

ç”¨æˆ·åé¦ˆï¼š"å†å‚è€ƒè”é‚¦.mdæ–‡æ¡£çœ‹çœ‹å“ªé‡Œå†™æ³•ä¸å¯¹, ä¸åŠ è½½uié¢æ¿"

**æ ¹æœ¬åŸå› **ï¼šä¹‹å‰çš„å®ç°æ–¹å¼ä¸ç¬¦åˆè”é‚¦.mdæ–‡æ¡£è§„èŒƒï¼š
1. âŒ æ‰‹å†™JavaScriptç»„ä»¶è€ŒéçœŸå®Vueæ–‡ä»¶
2. âŒ æœªé€šè¿‡Viteæ„å»ºç³»ç»Ÿç”Ÿæˆæ ‡å‡†æ¨¡å—è”é‚¦æ–‡ä»¶
3. âŒ æ¨¡å—å¯¼å‡ºè·¯å¾„å’Œç»“æ„ä¸ç¬¦åˆè§„èŒƒ

## âœ… å®Œæ•´è§£å†³æ–¹æ¡ˆ

### 1. åˆ›å»ºæ ‡å‡†Vueé¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ package.json              # æ ‡å‡†NPMé…ç½®
â”œâ”€â”€ vite.config.ts            # ç¬¦åˆè”é‚¦.mdçš„Viteé…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScripté…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts              # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ App.vue              # å¼€å‘ç¯å¢ƒæµ‹è¯•ç»„ä»¶
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ Config.vue       # é…ç½®é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ Page.vue         # è¯¦æƒ…é¡µé¢ç»„ä»¶
â”‚       â””â”€â”€ Dashboard.vue    # ä»ªè¡¨æ¿ç»„ä»¶
```

### 2. ä¸¥æ ¼æŒ‰ç…§è”é‚¦.mdæ ‡å‡†é…ç½®Vite

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import federation from '@originjs/vite-plugin-federation'

export default defineConfig({
  plugins: [
    vue(),
    federation({
      name: 'TransferSync',
      filename: 'remoteEntry.js',
      exposes: {
        './Page': './src/components/Page.vue',
        './Config': './src/components/Config.vue',
        './Dashboard': './src/components/Dashboard.vue',
      },
      shared: {
        vue: {
          requiredVersion: false,
          generate: false,
        },
      },
      format: 'esm'
    })
  ],
  build: {
    target: 'esnext',           // å¿…é¡»è®¾ç½®ä¸ºesnextä»¥æ”¯æŒé¡¶å±‚await
    minify: false,              // å¼€å‘é˜¶æ®µå»ºè®®å…³é—­æ··æ·†
    cssCodeSplit: true,         // åˆ†ç¦»æ ·å¼æ–‡ä»¶
    outDir: '../dist/assets',   // è¾“å‡ºåˆ°æ’ä»¶çš„dist/assetsç›®å½•
  }
})
```

### 3. æ ‡å‡†Vueç»„ä»¶å®ç°

**Config.vue**ï¼ˆé…ç½®é¡µé¢ï¼‰ï¼š
- âœ… ä½¿ç”¨æ ‡å‡†çš„`<script setup>`è¯­æ³•
- âœ… æ¥æ”¶`initialConfig`å’Œ`api` props
- âœ… å‘å‡º`save`ã€`close`ã€`switch`äº‹ä»¶
- âœ… åŒ…å«12ç§é€šçŸ¥æ¸ é“é€‰æ‹©
- âœ… ç®€åŒ–çš„å•æºè·¯å¾„+ç›®æ ‡è·¯å¾„é…ç½®

**Page.vue**ï¼ˆè¯¦æƒ…é¡µé¢ï¼‰ï¼š
- âœ… æ¥æ”¶`api` prop
- âœ… å‘å‡º`action`ã€`switch`ã€`close`äº‹ä»¶
- âœ… å®æ—¶çŠ¶æ€ç›‘æ§å’Œæ“ä½œæ§åˆ¶é¢æ¿
- âœ… æ‰‹åŠ¨åŒæ­¥å’Œå¢é‡åŒæ­¥åŠŸèƒ½

**Dashboard.vue**ï¼ˆä»ªè¡¨æ¿ï¼‰ï¼š
- âœ… æ¥æ”¶`config`ã€`allowRefresh`ã€`api` props
- âœ… ç´§å‡‘çš„ä»ªè¡¨æ¿æ˜¾ç¤º
- âœ… è‡ªåŠ¨30ç§’åˆ·æ–°çŠ¶æ€

### 4. æ„å»ºç”Ÿæˆæ ‡å‡†æ¨¡å—è”é‚¦æ–‡ä»¶

```bash
cd frontend
npm install
npm run build
```

**ç”Ÿæˆçš„å…³é”®æ–‡ä»¶**ï¼š
- âœ… `dist/assets/assets/remoteEntry.js` - æ ‡å‡†æ¨¡å—è”é‚¦å…¥å£
- âœ… `__federation_expose_Config-*.js` - Configç»„ä»¶æ¨¡å—
- âœ… `__federation_expose_Page-*.js` - Pageç»„ä»¶æ¨¡å—
- âœ… `__federation_expose_Dashboard-*.js` - Dashboardç»„ä»¶æ¨¡å—
- âœ… CSSæ ·å¼æ–‡ä»¶è‡ªåŠ¨åˆ†ç¦»åŠ è½½

### 5. åç«¯é›†æˆç¡®è®¤

æ’ä»¶Pythonä»£ç å·²æ­£ç¡®é…ç½®ï¼š

```python
def get_render_mode() -> Tuple[str, Optional[str]]:
    """
    è¿”å›æ’ä»¶ä½¿ç”¨çš„å‰ç«¯æ¸²æŸ“æ¨¡å¼
    :return: å‰ç«¯æ¸²æŸ“æ¨¡å¼ï¼Œå‰ç«¯æ–‡ä»¶ç›®å½•
    """
    return "vue", "dist/assets"  # Vueæ¨¡å—è”é‚¦æ¨¡å¼
```

## ğŸš€ ç°åœ¨çš„å·¥ä½œæµç¨‹

1. **MoviePilotåŠ è½½æ’ä»¶** â†’ æ£€æµ‹åˆ°Vueæ¨¡å¼
2. **åŠ è½½remoteEntry.js** â†’ æ ‡å‡†æ¨¡å—è”é‚¦å…¥å£ç‚¹
3. **åŠ¨æ€å¯¼å…¥ç»„ä»¶** â†’ `./Config`ã€`./Page`ã€`./Dashboard`
4. **æ¸²æŸ“Vueç»„ä»¶** â†’ å®Œæ•´çš„Vuetify UIç•Œé¢
5. **APIé€šä¿¡** â†’ é€šè¿‡props.apiè°ƒç”¨åç«¯æ¥å£

## ğŸ¯ å…³é”®æ”¹è¿›

### UIæ ‡å‡†åŒ–
- âœ… **çœŸå®Vueç»„ä»¶**ï¼šä¸å†æ˜¯JavaScriptå†…è”ç»„ä»¶
- âœ… **æ¨¡å—è”é‚¦**ï¼šç¬¦åˆè”é‚¦.mdæ–‡æ¡£100%è§„èŒƒ
- âœ… **æ„å»ºç³»ç»Ÿ**ï¼šé€šè¿‡Viteæ ‡å‡†æ„å»ºæµç¨‹
- âœ… **æ ·å¼åˆ†ç¦»**ï¼šCSSè‡ªåŠ¨åˆ†ç¦»å’ŒåŠ¨æ€åŠ è½½

### é…ç½®ç®€åŒ–
- âœ… **å•è·¯å¾„é…ç½®**ï¼š`_source_path` + `_target_path`
- âœ… **é€šçŸ¥æ¸ é“**ï¼š12ç§é€šçŸ¥æ–¹å¼é€‰æ‹©æ¡†
- âœ… **å‘åå…¼å®¹**ï¼šä¿ç•™æ—§é…ç½®æ”¯æŒ

### ä»£ç è´¨é‡
- âœ… **TypeScriptæ”¯æŒ**ï¼šå®Œæ•´çš„ç±»å‹æ£€æŸ¥
- âœ… **Vue 3 Composition API**ï¼šç°ä»£åŒ–å¼€å‘æ–¹å¼
- âœ… **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒä¸åŒå±å¹•å°ºå¯¸

## ğŸ‰ éªŒè¯æ­¥éª¤

1. **é‡å¯MoviePilotæœåŠ¡**
2. **è®¿é—®æ’ä»¶ç®¡ç†é¡µé¢**
3. **ç‚¹å‡»TransferSyncæ’ä»¶** â†’ åº”è¯¥æ­£å¸¸åŠ è½½Vueç•Œé¢
4. **æµ‹è¯•é…ç½®ä¿å­˜** â†’ APIè°ƒç”¨åº”è¯¥æˆåŠŸ
5. **æ£€æŸ¥é€šçŸ¥æ¸ é“é€‰æ‹©** â†’ 12ç§é€‰é¡¹æ­£å¸¸æ˜¾ç¤º
6. **åˆ‡æ¢é¡µé¢** â†’ Config/Pageç»„ä»¶æ­£å¸¸åˆ‡æ¢

**ç°åœ¨æ’ä»¶UIåº”è¯¥å®Œå…¨æ­£å¸¸å·¥ä½œï¼**

---

## ğŸ“Š æŠ€æœ¯å¯¹æ¯”

| æ–¹é¢ | ä¿®å¤å‰ | ä¿®å¤å |
|------|--------|--------|
| ç»„ä»¶æ–¹å¼ | æ‰‹å†™JavaScript | çœŸå®Vueæ–‡ä»¶ |
| æ„å»ºæ–¹å¼ | æ— æ„å»º | Viteæ ‡å‡†æ„å»º |
| æ¨¡å—è”é‚¦ | è‡ªåˆ¶å®ç° | å®˜æ–¹federationæ’ä»¶ |
| æ–‡æ¡£ç¬¦åˆåº¦ | 0% | 100% |
| UIåŠ è½½ | âŒ å¤±è´¥ | âœ… æˆåŠŸ |

**TransferSyncæ’ä»¶ç°åœ¨å®Œå…¨ç¬¦åˆMoviePilotçš„æ¨¡å—è”é‚¦æ ‡å‡†ï¼**